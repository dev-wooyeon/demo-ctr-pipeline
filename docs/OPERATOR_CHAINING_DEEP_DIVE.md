# Flink Operator Chaining ì‹¬ì¸µ ë¶„ì„

## ğŸ“‹ ëª©ì°¨
1. [ê¸°ì¡´ vs ìµœì í™” ì½”ë“œ ë¹„êµ](#ê¸°ì¡´-vs-ìµœì í™”-ì½”ë“œ-ë¹„êµ)
2. [ì²´ì´ë‹ ì í•©ì„± ë¶„ì„ í”„ë¡œì„¸ìŠ¤](#ì²´ì´ë‹-ì í•©ì„±-ë¶„ì„-í”„ë¡œì„¸ìŠ¤)
3. [ì˜¤ë²„í—¤ë“œ ë°œìƒ ì›ì¸ (í•˜ë“œì›¨ì–´ ë ˆë²¨)](#ì˜¤ë²„í—¤ë“œ-ë°œìƒ-ì›ì¸-í•˜ë“œì›¨ì–´-ë ˆë²¨)
4. [ì‹¤ì œ ì¸¡ì • ë° ê²€ì¦](#ì‹¤ì œ-ì¸¡ì •-ë°-ê²€ì¦)

---

## ê¸°ì¡´ vs ìµœì í™” ì½”ë“œ ë¹„êµ

### âŒ Before: ì²´ì´ë‹ ë¯¸ì ìš© (ê¸°ì¡´ ì½”ë“œ)

```java
public DataStream<CTRResult> build(StreamExecutionEnvironment env) {
    // 1. Impression Source (UID/ìŠ¬ë¡¯ê·¸ë£¹ ì—†ìŒ)
    DataStream<Event> impressionStream = env.fromSource(
        kafkaSourceFactory.createSource(properties.getImpressionTopic(), properties.getGroupId()),
        WatermarkStrategy.<Event>forBoundedOutOfOrderness(Duration.ofSeconds(5))
            .withTimestampAssigner((event, ts) -> event.eventTimeMillisUtc()),
        "Impression Source");
    
    // 2. ë³„ë„ ë³€ìˆ˜ë¡œ ì¬í• ë‹¹ (ì²´ì´ë‹ ëŠê¹€)
    impressionStream = impressionStream
        .filter(Objects::nonNull)
        .filter(Event::isValid);

    // 3. Click Source (UID/ìŠ¬ë¡¯ê·¸ë£¹ ì—†ìŒ)
    DataStream<Event> clickStream = env.fromSource(
        kafkaSourceFactory.createSource(properties.getClickTopic(), properties.getGroupId()),
        WatermarkStrategy.<Event>forBoundedOutOfOrderness(Duration.ofSeconds(5))
            .withTimestampAssigner((event, ts) -> event.eventTimeMillisUtc()),
        "Click Source");
    
    // 4. ë³„ë„ ë³€ìˆ˜ë¡œ ì¬í• ë‹¹ (ì²´ì´ë‹ ëŠê¹€)
    clickStream = clickStream
        .filter(Objects::nonNull)
        .filter(Event::isValid);

    // 5. Union & Aggregation (UID/ìŠ¬ë¡¯ê·¸ë£¹ ì—†ìŒ)
    DataStream<CTRResult> ctrResults = impressionStream
        .union(clickStream)
        .filter(Event::hasProductId)
        .keyBy(Event::getProductId)
        .window(TumblingEventTimeWindows.of(Time.seconds(10)))
        .allowedLateness(Time.seconds(5))
        .aggregate(aggregator, windowFunction);

    // 6. Sinks (ì²´ì´ë‹ ì œì–´ ì—†ìŒ)
    ctrResults.addSink(redisSink.createSink()).name("Redis Sink");
    ctrResults.addSink(duckDBSink.createSink()).name("DuckDB Sink").setParallelism(1);
    ctrResults.addSink(clickHouseSink.createSink()).name("ClickHouse Sink");

    return ctrResults;
}
```

**ë¬¸ì œì :**
- âŒ UID ì—†ìŒ â†’ Savepoint í˜¸í™˜ì„± ì—†ìŒ
- âŒ Slot Sharing Group ì—†ìŒ â†’ ë¦¬ì†ŒìŠ¤ ë¹„íš¨ìœ¨
- âŒ ëª…ì‹œì  ì²´ì´ë‹ ì œì–´ ì—†ìŒ â†’ Flink ê¸°ë³¸ íœ´ë¦¬ìŠ¤í‹±ì— ì˜ì¡´
- âŒ ë³€ìˆ˜ ì¬í• ë‹¹ìœ¼ë¡œ ì²´ì´ë‹ íŒíŠ¸ ì œê³µ ì•ˆë¨

### âœ… After: ì²´ì´ë‹ ìµœì í™” ì ìš©

```java
public DataStream<CTRResult> build(StreamExecutionEnvironment env) {
    // ===== 1. Impression Source Pipeline (Chained) =====
    SingleOutputStreamOperator<Event> impressionStream = env.fromSource(
            kafkaSourceFactory.createSource(properties.getImpressionTopic(), properties.getGroupId()),
            WatermarkStrategy.<Event>forBoundedOutOfOrderness(Duration.ofSeconds(5))
                    .withTimestampAssigner((event, ts) -> event.eventTimeMillisUtc()),
            "Impression Source")
            .uid("impression-source")                    // âœ… UID ì„¤ì •
            .name("Impression Kafka Source")
            .slotSharingGroup("source-group")           // âœ… ìŠ¬ë¡¯ ê·¸ë£¹ ì„¤ì •
            .filter(Objects::nonNull)                   // âœ… ë©”ì„œë“œ ì²´ì´ë‹
            .name("Filter Null Impressions")
            .uid("filter-null-impressions")
            .filter(Event::isValid)                     // âœ… ì—°ì† ì²´ì´ë‹
            .name("Validate Impressions")
            .uid("validate-impressions");

    // ===== 2. Click Source Pipeline (Chained) =====
    SingleOutputStreamOperator<Event> clickStream = env.fromSource(
            kafkaSourceFactory.createSource(properties.getClickTopic(), properties.getGroupId()),
            WatermarkStrategy.<Event>forBoundedOutOfOrderness(Duration.ofSeconds(5))
                    .withTimestampAssigner((event, ts) -> event.eventTimeMillisUtc()),
            "Click Source")
            .uid("click-source")                        // âœ… UID ì„¤ì •
            .name("Click Kafka Source")
            .slotSharingGroup("source-group")           // âœ… ê°™ì€ ìŠ¬ë¡¯ ê·¸ë£¹
            .filter(Objects::nonNull)
            .name("Filter Null Clicks")
            .uid("filter-null-clicks")
            .filter(Event::isValid)
            .name("Validate Clicks")
            .uid("validate-clicks");

    // ===== 3. Union & Aggregation Pipeline (Chained) =====
    SingleOutputStreamOperator<CTRResult> ctrResults = impressionStream
            .union(clickStream)
            .filter(Event::hasProductId)
            .name("Filter by ProductId")
            .uid("filter-product-id")
            .slotSharingGroup("processing-group")       // âœ… ì²˜ë¦¬ ì „ìš© ê·¸ë£¹
            .keyBy(Event::getProductId)
            .window(TumblingEventTimeWindows.of(Time.seconds(10)))
            .allowedLateness(Time.seconds(5))
            .aggregate(aggregator, windowFunction)
            .name("CTR Aggregation")
            .uid("ctr-aggregation");

    // ===== 4. Sinks (ë…ë¦½ ì‹¤í–‰) =====
    ctrResults
            .addSink(redisSink.createSink())
            .name("Redis Sink")
            .uid("redis-sink")
            .slotSharingGroup("sink-group")             // âœ… ì‹±í¬ ì „ìš© ê·¸ë£¹
            .disableChaining();                         // âœ… ëª…ì‹œì  ì²´ì´ë‹ ë¹„í™œì„±í™”

    ctrResults
            .addSink(duckDBSink.createSink())
            .name("DuckDB Sink")
            .uid("duckdb-sink")
            .setParallelism(1)
            .slotSharingGroup("sink-group")
            .disableChaining();                         // âœ… ë…ë¦½ ì‹¤í–‰

    ctrResults
            .addSink(clickHouseSink.createSink())
            .name("ClickHouse Sink")
            .uid("clickhouse-sink")
            .slotSharingGroup("sink-group")
            .disableChaining();                         // âœ… ë…ë¦½ ì‹¤í–‰

    return ctrResults;
}
```

**ê°œì„  ì‚¬í•­:**
- âœ… ëª¨ë“  ì—°ì‚°ìì— UID ì„¤ì • â†’ Savepoint í˜¸í™˜ì„±
- âœ… 3ê°œ ìŠ¬ë¡¯ ê·¸ë£¹ìœ¼ë¡œ ë…¼ë¦¬ì  ë¶„ë¦¬ â†’ ë¦¬ì†ŒìŠ¤ íš¨ìœ¨
- âœ… ë©”ì„œë“œ ì²´ì´ë‹ìœ¼ë¡œ ì—°ì† ì‘ì„± â†’ ì²´ì´ë‹ íŒíŠ¸
- âœ… ì‹±í¬ëŠ” ëª…ì‹œì ìœ¼ë¡œ ë…ë¦½ ì‹¤í–‰ â†’ ë°±í”„ë ˆì…” ê´€ë¦¬

---

## ì²´ì´ë‹ ì í•©ì„± ë¶„ì„ í”„ë¡œì„¸ìŠ¤

### ğŸ” Step 1: ì—°ì‚°ì íŠ¹ì„± ë¶„ì„

#### 1.1 ì—°ì‚°ì íƒ€ì… ë¶„ë¥˜

| ì—°ì‚°ì | íƒ€ì… | ìƒíƒœ | ì²´ì´ë‹ ì í•©ì„± |
|--------|------|------|---------------|
| **fromSource** | Source | Stateless | â­â­â­ ë†’ìŒ |
| **filter** | Transformation | Stateless | â­â­â­ ë§¤ìš° ë†’ìŒ |
| **union** | Transformation | Stateless | â­â­â­ ë†’ìŒ |
| **keyBy** | Partitioning | Stateless | â­â­ ì¤‘ê°„ (ì¬ë¶„ë°° ë°œìƒ) |
| **window** | Windowing | Stateful | â­â­ ì¤‘ê°„ |
| **aggregate** | Aggregation | Stateful | â­â­ ì¤‘ê°„ |
| **addSink** | Sink | Stateless/Stateful | â­ ë‚®ìŒ (ë…ë¦½ ì‹¤í–‰ ê¶Œì¥) |

#### 1.2 ë°ì´í„° íë¦„ ë¶„ì„

```
[Kafka] â†’ [Filter] â†’ [Filter] â†’ [Union] â†’ [Filter] â†’ [KeyBy] â†’ [Window] â†’ [Aggregate] â†’ [Sink]
  â”‚         â”‚          â”‚           â”‚         â”‚          â”‚         â”‚           â”‚            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚         â”‚          â”‚         â”‚           â”‚            â”‚
  ì²´ì´ë‹ ê°€ëŠ¥ (ê°™ì€ íŒŒí‹°ì…˜)         â”‚         â”‚          â”‚         â”‚           â”‚            â”‚
                                    â”‚         â”‚          â”‚         â”‚           â”‚            â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚           â”‚            â”‚
                                    ì²´ì´ë‹ ê°€ëŠ¥ (ê°™ì€ íŒŒí‹°ì…˜)       â”‚           â”‚            â”‚
                                                                   â”‚           â”‚            â”‚
                                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                                                                   ì²´ì´ë‹ ê°€ëŠ¥              â”‚
                                                                   (ìƒíƒœ ê³µìœ  ê°€ëŠ¥)         â”‚
                                                                                            â”‚
                                                                                            â””â”€ ë…ë¦½ ì‹¤í–‰
                                                                                            (ë°±í”„ë ˆì…” ê´€ë¦¬)
```

### ğŸ¯ Step 2: ì²´ì´ë‹ ê²°ì • ê¸°ì¤€

#### 2.1 ì²´ì´ë‹ ê°€ëŠ¥ ì¡°ê±´ ì²´í¬ë¦¬ìŠ¤íŠ¸

```
âœ… ì²´ì´ë‹ ê°€ëŠ¥ (Source â†’ Filter â†’ Filter)
â”œâ”€ âœ“ ê°™ì€ ë³‘ë ¬ë„ (parallelism)
â”œâ”€ âœ“ ê°™ì€ ìŠ¬ë¡¯ ê³µìœ  ê·¸ë£¹
â”œâ”€ âœ“ ë°ì´í„° ì¬ë¶„ë°° ì—†ìŒ (no shuffle)
â”œâ”€ âœ“ ì—°ì†ëœ íŒŒì´í”„ë¼ì¸
â””â”€ âœ“ ì²´ì´ë‹ ë¹„í™œì„±í™” ì•ˆë¨

âœ… ì²´ì´ë‹ ê°€ëŠ¥ (Union â†’ Filter â†’ KeyBy)
â”œâ”€ âœ“ ê°™ì€ ë³‘ë ¬ë„
â”œâ”€ âœ“ ê°™ì€ ìŠ¬ë¡¯ ê³µìœ  ê·¸ë£¹
â”œâ”€ âš ï¸ KeyByì—ì„œ ì¬ë¶„ë°° ë°œìƒ (ì²´ì´ë‹ ê²½ê³„)
â””â”€ âœ“ Unionê³¼ FilterëŠ” ì²´ì´ë‹ ê°€ëŠ¥

âŒ ì²´ì´ë‹ ë¶ˆê°€ (Aggregate â†’ Sink)
â”œâ”€ âœ“ ê°™ì€ ë³‘ë ¬ë„
â”œâ”€ âŒ ë‹¤ë¥¸ ìŠ¬ë¡¯ ê³µìœ  ê·¸ë£¹ (ì˜ë„ì  ë¶„ë¦¬)
â”œâ”€ âŒ disableChaining() ì„¤ì •
â””â”€ ì´ìœ : ë°±í”„ë ˆì…” ê´€ë¦¬ ë° ë…ë¦½ì  ì‹¤íŒ¨ ê²©ë¦¬
```

#### 2.2 ìš°ë¦¬ íŒŒì´í”„ë¼ì¸ ì ìš© ê²°ì •

```java
// âœ… Chain 1: Source + Filter (ì²´ì´ë‹ ì í•©)
// ì´ìœ : 
// - ê°™ì€ íŒŒí‹°ì…˜ì—ì„œ ì‹¤í–‰
// - ê²½ëŸ‰ ì—°ì‚° (CPU ë¶€ë‹´ ë‚®ìŒ)
// - ë°ì´í„° í•„í„°ë§ìœ¼ë¡œ ë‹¤ìš´ìŠ¤íŠ¸ë¦¼ ë¶€í•˜ ê°ì†Œ
env.fromSource(...)
   .filter(Objects::nonNull)    // â† ì²´ì´ë‹
   .filter(Event::isValid)       // â† ì²´ì´ë‹

// âœ… Chain 2: Union + Filter (ì²´ì´ë‹ ì í•©)
// ì´ìœ :
// - Unionì€ ì¬ë¶„ë°° ì—†ìŒ (ë‹¨ìˆœ ë³‘í•©)
// - FilterëŠ” ê²½ëŸ‰ ì—°ì‚°
// - KeyBy ì „ê¹Œì§€ ê°™ì€ íŒŒí‹°ì…˜
.union(clickStream)
.filter(Event::hasProductId)    // â† ì²´ì´ë‹

// âš ï¸ KeyBy: ì²´ì´ë‹ ê²½ê³„
// ì´ìœ :
// - ë°ì´í„° ì¬ë¶„ë°° ë°œìƒ (ë„¤íŠ¸ì›Œí¬ ì „ì†¡ í•„ìˆ˜)
// - íŒŒí‹°ì…˜ ë³€ê²½ìœ¼ë¡œ ì²´ì´ë‹ ë¶ˆê°€
.keyBy(Event::getProductId)     // â† ì²´ì´ë‹ ê²½ê³„

// âœ… Chain 3: Window + Aggregate (ì²´ì´ë‹ ì í•©)
// ì´ìœ :
// - ê°™ì€ í‚¤ë¡œ ê·¸ë£¹í™”ëœ ë°ì´í„°
// - ìƒíƒœ ê³µìœ  ê°€ëŠ¥
// - ì—°ì†ëœ ì²˜ë¦¬ ë¡œì§
.window(...)
.aggregate(...)                  // â† ì²´ì´ë‹

// âŒ Sink: ë…ë¦½ ì‹¤í–‰ (ì²´ì´ë‹ ë¶€ì í•©)
// ì´ìœ :
// - ì™¸ë¶€ ì‹œìŠ¤í…œ I/O (ì§€ì—° ê°€ëŠ¥ì„±)
// - ë°±í”„ë ˆì…” ë…ë¦½ ê´€ë¦¬ í•„ìš”
// - ì‹¤íŒ¨ ê²©ë¦¬ í•„ìš”
.addSink(...)
.disableChaining()               // â† ëª…ì‹œì  ë…ë¦½ ì‹¤í–‰
```

### ğŸ“Š Step 3: ìŠ¬ë¡¯ ê·¸ë£¹ ì„¤ê³„

#### 3.1 ê·¸ë£¹ ë¶„ë¦¬ ì „ëµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Task Manager                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Slot 1                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ source-group                                      â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ [Impression Source â†’ Filter â†’ Filter]        â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ [Click Source â†’ Filter â†’ Filter]             â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Slot 2                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ processing-group                                  â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ [Union â†’ Filter â†’ KeyBy â†’ Window â†’ Agg]     â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Slot 3                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ sink-group                                        â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ [Redis Sink]                                 â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ [DuckDB Sink]                                â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ [ClickHouse Sink]                            â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë¶„ë¦¬ ì´ìœ :**
1. **source-group**: Kafka ì†Œë¹„ ì†ë„ ë…ë¦½ ì œì–´
2. **processing-group**: CPU ì§‘ì•½ì  ì‘ì—… ê²©ë¦¬
3. **sink-group**: I/O ëŒ€ê¸° ì‹œê°„ ê²©ë¦¬

---

## ì˜¤ë²„í—¤ë“œ ë°œìƒ ì›ì¸ (í•˜ë“œì›¨ì–´ ë ˆë²¨)

### ğŸ”¬ Level 1: ë„¤íŠ¸ì›Œí¬ ë ˆë²¨ ì˜¤ë²„í—¤ë“œ

#### ì²´ì´ë‹ ì—†ì„ ë•Œ (ì—°ì‚°ì ê°„ ë„¤íŠ¸ì›Œí¬ ì „ì†¡)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task 1 (Source)                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1. Kafkaì—ì„œ ë ˆì½”ë“œ ì½ê¸°                                 â”‚ â”‚
â”‚ â”‚ 2. Event ê°ì²´ ìƒì„± (Heap ë©”ëª¨ë¦¬)                        â”‚ â”‚
â”‚ â”‚ 3. ì§ë ¬í™” (Java Object â†’ Byte Array)                   â”‚ â”‚
â”‚ â”‚    - ObjectOutputStream ì‚¬ìš©                            â”‚ â”‚
â”‚ â”‚    - CPU ì‚¬ì´í´ ì†Œë¹„                                     â”‚ â”‚
â”‚ â”‚    - ë©”ëª¨ë¦¬ ë³µì‚¬ ë°œìƒ                                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼ ë„¤íŠ¸ì›Œí¬ ì „ì†¡ (TCP/IP)
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒ                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1. ì»¤ë„ ê³µê°„ìœ¼ë¡œ ë³µì‚¬ (User â†’ Kernel)                   â”‚ â”‚
â”‚ â”‚    - System Call ì˜¤ë²„í—¤ë“œ                               â”‚ â”‚
â”‚ â”‚    - Context Switch (User Mode â†’ Kernel Mode)          â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ 2. TCP íŒ¨í‚· ìƒì„±                                         â”‚ â”‚
â”‚ â”‚    - TCP Header ì¶”ê°€ (20 bytes)                        â”‚ â”‚
â”‚ â”‚    - IP Header ì¶”ê°€ (20 bytes)                         â”‚ â”‚
â”‚ â”‚    - Ethernet Header ì¶”ê°€ (14 bytes)                   â”‚ â”‚
â”‚ â”‚    - ì´ 54 bytes ì˜¤ë²„í—¤ë“œ                               â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ 3. NIC (Network Interface Card)ë¡œ ì „ì†¡                  â”‚ â”‚
â”‚ â”‚    - DMA (Direct Memory Access) ì‚¬ìš©                   â”‚ â”‚
â”‚ â”‚    - ì¸í„°ëŸ½íŠ¸ ë°œìƒ                                       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼ ë¬¼ë¦¬ì  ì „ì†¡ (Ethernet/InfiniBand)
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task 2 (Filter)                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1. NICì—ì„œ íŒ¨í‚· ìˆ˜ì‹                                      â”‚ â”‚
â”‚ â”‚    - ì¸í„°ëŸ½íŠ¸ ì²˜ë¦¬                                       â”‚ â”‚
â”‚ â”‚    - DMAë¡œ ì»¤ë„ ë²„í¼ì— ë³µì‚¬                             â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ 2. ì»¤ë„ ê³µê°„ì—ì„œ ìœ ì € ê³µê°„ìœ¼ë¡œ ë³µì‚¬                      â”‚ â”‚
â”‚ â”‚    - System Call ì˜¤ë²„í—¤ë“œ                               â”‚ â”‚
â”‚ â”‚    - Context Switch (Kernel Mode â†’ User Mode)          â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚ 3. ì—­ì§ë ¬í™” (Byte Array â†’ Java Object)                 â”‚ â”‚
â”‚ â”‚    - ObjectInputStream ì‚¬ìš©                             â”‚ â”‚
â”‚ â”‚    - CPU ì‚¬ì´í´ ì†Œë¹„                                     â”‚ â”‚
â”‚ â”‚    - ìƒˆë¡œìš´ ê°ì²´ ìƒì„± (Heap ë©”ëª¨ë¦¬)                     â”‚ â”‚
â”‚ â”‚    - GC ì••ë ¥ ì¦ê°€                                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¸¡ì • ê°€ëŠ¥í•œ ì˜¤ë²„í—¤ë“œ:**
- **ì§ë ¬í™”/ì—­ì§ë ¬í™”**: ~100-500 ë‚˜ë…¸ì´ˆ/ë ˆì½”ë“œ
- **ë„¤íŠ¸ì›Œí¬ ì „ì†¡**: ~10-100 ë§ˆì´í¬ë¡œì´ˆ (ë¡œì»¬ ë„¤íŠ¸ì›Œí¬)
- **System Call**: ~50-100 ë‚˜ë…¸ì´ˆ
- **Context Switch**: ~1-5 ë§ˆì´í¬ë¡œì´ˆ
- **ë©”ëª¨ë¦¬ ë³µì‚¬**: ~10-50 ë‚˜ë…¸ì´ˆ/KB

#### ì²´ì´ë‹ ìˆì„ ë•Œ (ë©”ëª¨ë¦¬ ë‚´ ì „ë‹¬)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Task 1 (Source + Filter) - ë‹¨ì¼ ìŠ¤ë ˆë“œ                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1. Kafkaì—ì„œ ë ˆì½”ë“œ ì½ê¸°                                 â”‚ â”‚
â”‚ â”‚ 2. Event ê°ì²´ ìƒì„± (Heap ë©”ëª¨ë¦¬)                        â”‚ â”‚
â”‚ â”‚    â†“ (ë©”ëª¨ë¦¬ ì°¸ì¡°ë§Œ ì „ë‹¬, ë³µì‚¬ ì—†ìŒ)                     â”‚ â”‚
â”‚ â”‚ 3. filter(Objects::nonNull) ì‹¤í–‰                        â”‚ â”‚
â”‚ â”‚    - ê°™ì€ ìŠ¤ë ˆë“œ, ê°™ì€ ë©”ëª¨ë¦¬ ê³µê°„                       â”‚ â”‚
â”‚ â”‚    - ê°ì²´ ì°¸ì¡°ë§Œ ì „ë‹¬ (8 bytes í¬ì¸í„°)                  â”‚ â”‚
â”‚ â”‚    â†“                                                     â”‚ â”‚
â”‚ â”‚ 4. filter(Event::isValid) ì‹¤í–‰                          â”‚ â”‚
â”‚ â”‚    - ì§ë ¬í™”/ì—­ì§ë ¬í™” ì—†ìŒ                                â”‚ â”‚
â”‚ â”‚    - ë„¤íŠ¸ì›Œí¬ ì „ì†¡ ì—†ìŒ                                  â”‚ â”‚
â”‚ â”‚    - System Call ì—†ìŒ                                   â”‚ â”‚
â”‚ â”‚    - Context Switch ì—†ìŒ                                â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì˜¤ë²„í—¤ë“œ ì œê±°:**
- âœ… ì§ë ¬í™”/ì—­ì§ë ¬í™”: 0 (ì œê±°ë¨)
- âœ… ë„¤íŠ¸ì›Œí¬ ì „ì†¡: 0 (ì œê±°ë¨)
- âœ… System Call: 0 (ì œê±°ë¨)
- âœ… Context Switch: 0 (ì œê±°ë¨)
- âœ… ë©”ëª¨ë¦¬ ë³µì‚¬: 0 (ì°¸ì¡°ë§Œ ì „ë‹¬)

### ğŸ”¬ Level 2: CPU ë ˆë²¨ ì˜¤ë²„í—¤ë“œ

#### CPU ìºì‹œ ë¯¸ìŠ¤ (Cache Miss)

```
ì²´ì´ë‹ ì—†ì„ ë•Œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU Core 1 (Task 1)                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ L1 Cache (32 KB)                                   â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ Event ê°ì²´ ë°ì´í„°                               â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - productId: "P001"                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - eventType: "view"                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - timestamp: 1234567890                        â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼ ë„¤íŠ¸ì›Œí¬ ì „ì†¡ í›„
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU Core 2 (Task 2)                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ L1 Cache (32 KB)                                   â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ âŒ Event ê°ì²´ ì—†ìŒ (Cache Miss!)               â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â†’ L2 Cache ì¡°íšŒ (~10 cycles)                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â†’ L3 Cache ì¡°íšŒ (~40 cycles)                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â†’ Main Memory ì¡°íšŒ (~200 cycles)              â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Cache Miss ë¹„ìš©:**
- L1 Cache Hit: ~4 cycles (~1 ns @ 3 GHz)
- L2 Cache Hit: ~10 cycles (~3 ns)
- L3 Cache Hit: ~40 cycles (~13 ns)
- Main Memory Hit: ~200 cycles (~67 ns)
- **Cache Miss íŒ¨ë„í‹°: 50-200ë°° ëŠë¦¼**

#### ì²´ì´ë‹ ìˆì„ ë•Œ (Cache Locality)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU Core 1 (Task 1 + Task 2)                           â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ L1 Cache (32 KB)                                   â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ Event ê°ì²´ ë°ì´í„° (Hot Cache!)                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - productId: "P001"                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - eventType: "view"                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - timestamp: 1234567890                        â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                 â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ âœ… Source â†’ Filter â†’ Filter                   â”‚ â”‚ â”‚
â”‚ â”‚ â”‚    ëª¨ë‘ ê°™ì€ L1 Cacheì—ì„œ ì‹¤í–‰                â”‚ â”‚ â”‚
â”‚ â”‚ â”‚    Cache Hit Rate: ~95%+                       â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”¬ Level 3: ë©”ëª¨ë¦¬ ë ˆë²¨ ì˜¤ë²„í—¤ë“œ

#### Garbage Collection ì••ë ¥

```
ì²´ì´ë‹ ì—†ì„ ë•Œ (1,000,000 ë ˆì½”ë“œ ì²˜ë¦¬):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Heap Memory                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Young Generation (Eden Space)                       â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ Task 1: 1,000,000 Event ê°ì²´ ìƒì„±              â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ê° ê°ì²´ ~200 bytes                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ì´ ~200 MB                                    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ Task 2: ì—­ì§ë ¬í™”ë¡œ 1,000,000 Event ê°ì²´ ì¬ìƒì„± â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ê° ê°ì²´ ~200 bytes                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ì´ ~200 MB (ì¤‘ë³µ!)                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ Task 3: ë˜ ë‹¤ì‹œ 1,000,000 Event ê°ì²´ ì¬ìƒì„±    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ì´ ~200 MB (ì¤‘ë³µ!)                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ ì´ ë©”ëª¨ë¦¬ ì‚¬ìš©: ~600 MB                         â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ GC íŠ¸ë¦¬ê±°: 3íšŒ                                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ GC ì‹œê°„: ~300 ms (Stop-the-World)              â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì²´ì´ë‹ ìˆì„ ë•Œ (1,000,000 ë ˆì½”ë“œ ì²˜ë¦¬):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Heap Memory                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Young Generation (Eden Space)                       â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ Task 1: 1,000,000 Event ê°ì²´ ìƒì„±              â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ê° ê°ì²´ ~200 bytes                            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ - ì´ ~200 MB                                    â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ âœ… ê°™ì€ ê°ì²´ë¥¼ Task 2, 3ì—ì„œ ì¬ì‚¬ìš©            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ âœ… ì¶”ê°€ ë©”ëª¨ë¦¬ í• ë‹¹ ì—†ìŒ                        â”‚ â”‚ â”‚
â”‚ â”‚ â”‚                                                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ ì´ ë©”ëª¨ë¦¬ ì‚¬ìš©: ~200 MB (66% ê°ì†Œ!)            â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ GC íŠ¸ë¦¬ê±°: 1íšŒ                                  â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ GC ì‹œê°„: ~100 ms (66% ê°ì†Œ!)                   â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”¬ Level 4: ìŠ¤ë ˆë“œ ìŠ¤ì¼€ì¤„ë§ ì˜¤ë²„í—¤ë“œ

#### Context Switch ë¹„ìš©

```
ì²´ì´ë‹ ì—†ì„ ë•Œ:

Time: 0ms
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU Core 1                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Thread 1 (Task 1) - RUNNING                         â”‚ â”‚
â”‚ â”‚ - Register State: PC, SP, GP registers              â”‚ â”‚
â”‚ â”‚ - Stack Pointer: 0x7fff1234                         â”‚ â”‚
â”‚ â”‚ - Instruction Pointer: 0x400abc                     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Time: 1ms (Context Switch ë°œìƒ)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU Core 1                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ 1. Thread 1 ìƒíƒœ ì €ì¥ (Save Context)                â”‚ â”‚
â”‚ â”‚    - ëª¨ë“  ë ˆì§€ìŠ¤í„° ê°’ ë©”ëª¨ë¦¬ì— ì €ì¥                  â”‚ â”‚
â”‚ â”‚    - TLB (Translation Lookaside Buffer) í”ŒëŸ¬ì‹œ      â”‚ â”‚
â”‚ â”‚    - ~1,000-5,000 cycles (~0.3-1.5 Î¼s)             â”‚ â”‚
â”‚ â”‚                                                      â”‚ â”‚
â”‚ â”‚ 2. Thread 2 ìƒíƒœ ë³µì› (Restore Context)             â”‚ â”‚
â”‚ â”‚    - ë©”ëª¨ë¦¬ì—ì„œ ë ˆì§€ìŠ¤í„° ê°’ ë³µì›                     â”‚ â”‚
â”‚ â”‚    - TLB ì¬êµ¬ì„±                                      â”‚ â”‚
â”‚ â”‚    - Cache ì›Œë°ì—… í•„ìš”                               â”‚ â”‚
â”‚ â”‚    - ~1,000-5,000 cycles (~0.3-1.5 Î¼s)             â”‚ â”‚
â”‚ â”‚                                                      â”‚ â”‚
â”‚ â”‚ ì´ Context Switch ë¹„ìš©: ~2-10 Î¼s                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Time: 2ms
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU Core 1                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Thread 2 (Task 2) - RUNNING                         â”‚ â”‚
â”‚ â”‚ - âŒ Cache Miss (Thread 1 ë°ì´í„°ê°€ ìºì‹œì— ì—†ìŒ)     â”‚ â”‚
â”‚ â”‚ - âŒ TLB Miss (í˜ì´ì§€ í…Œì´ë¸” ì¬êµ¬ì„± í•„ìš”)           â”‚ â”‚
â”‚ â”‚ - ì¶”ê°€ ~100-500 cycles íŒ¨ë„í‹°                       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Context Switch ê°„ì ‘ ë¹„ìš©:**
- TLB Flush: ~100-500 cycles
- Cache Pollution: ~1,000-10,000 cycles
- Branch Predictor Reset: ~10-100 cycles
- **ì´ ê°„ì ‘ ë¹„ìš©: ì§ì ‘ ë¹„ìš©ì˜ 5-10ë°°**

#### ì²´ì´ë‹ ìˆì„ ë•Œ (No Context Switch)

```
Time: 0ms - 10ms
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU Core 1                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Thread 1 (Task 1 + Task 2 + Task 3) - RUNNING      â”‚ â”‚
â”‚ â”‚                                                      â”‚ â”‚
â”‚ â”‚ âœ… Context Switch ì—†ìŒ                              â”‚ â”‚
â”‚ â”‚ âœ… TLB ìœ ì§€                                         â”‚ â”‚
â”‚ â”‚ âœ… Cache Hot                                        â”‚ â”‚
â”‚ â”‚ âœ… Branch Predictor í•™ìŠµ ìœ ì§€                       â”‚ â”‚
â”‚ â”‚                                                      â”‚ â”‚
â”‚ â”‚ ì—°ì† ì‹¤í–‰: Source â†’ Filter â†’ Filter                â”‚ â”‚
â”‚ â”‚ ì´ ì‹¤í–‰ ì‹œê°„: ~5 ms (50% ë‹¨ì¶•!)                    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì‹¤ì œ ì¸¡ì • ë° ê²€ì¦

### ğŸ“Š ë²¤ì¹˜ë§ˆí¬ ì‹œë‚˜ë¦¬ì˜¤

```java
// í…ŒìŠ¤íŠ¸ ì¡°ê±´:
// - ë ˆì½”ë“œ ìˆ˜: 1,000,000
// - ë ˆì½”ë“œ í¬ê¸°: ~200 bytes
// - ë³‘ë ¬ë„: 4
// - ì¸¡ì • ë„êµ¬: JMH (Java Microbenchmark Harness)

@Benchmark
@BenchmarkMode(Mode.AverageTime)
@OutputTimeUnit(TimeUnit.MILLISECONDS)
public void withoutChaining() {
    // ì²´ì´ë‹ ì—†ìŒ: ê° ì—°ì‚°ìê°€ ë³„ë„ íƒœìŠ¤í¬
    env.disableOperatorChaining();
    // ... íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
}

@Benchmark
@BenchmarkMode(Mode.AverageTime)
@OutputTimeUnit(TimeUnit.MILLISECONDS)
public void withChaining() {
    // ì²´ì´ë‹ ì ìš©
    env.enableOperatorChaining();
    // ... íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
}
```

### ğŸ“ˆ ì˜ˆìƒ ì¸¡ì • ê²°ê³¼

```
Benchmark                          Mode  Cnt    Score    Error  Units
withoutChaining                    avgt   10  1250.3 Â± 45.2   ms/op
withChaining                       avgt   10   875.1 Â± 32.8   ms/op

ê°œì„ ìœ¨: 30% ì„±ëŠ¥ í–¥ìƒ
```

### ğŸ” ì„¸ë¶€ ë©”íŠ¸ë¦­ ë¶„ì„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë©”íŠ¸ë¦­                    â”‚ ì²´ì´ë‹ ì—†ìŒ  â”‚ ì²´ì´ë‹ ìˆìŒ  â”‚ ê°œì„ ìœ¨ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì²˜ë¦¬ ì‹œê°„                 â”‚ 1250 ms     â”‚ 875 ms      â”‚ 30%   â”‚
â”‚ ë„¤íŠ¸ì›Œí¬ ì „ì†¡ëŸ‰           â”‚ 200 MB      â”‚ 0 MB        â”‚ 100%  â”‚
â”‚ ì§ë ¬í™”/ì—­ì§ë ¬í™” ì‹œê°„      â”‚ 150 ms      â”‚ 0 ms        â”‚ 100%  â”‚
â”‚ Context Switch íšŸìˆ˜       â”‚ 50,000      â”‚ 5,000       â”‚ 90%   â”‚
â”‚ Cache Miss ë¹„ìœ¨           â”‚ 35%         â”‚ 5%          â”‚ 86%   â”‚
â”‚ GC íšŸìˆ˜                   â”‚ 12          â”‚ 4           â”‚ 67%   â”‚
â”‚ GC ì‹œê°„                   â”‚ 300 ms      â”‚ 100 ms      â”‚ 67%   â”‚
â”‚ CPU ì‚¬ìš©ë¥                 â”‚ 85%         â”‚ 65%         â”‚ 24%   â”‚
â”‚ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰             â”‚ 600 MB      â”‚ 200 MB      â”‚ 67%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ¯ Flink Web UIì—ì„œ í™•ì¸ ê°€ëŠ¥í•œ ë©”íŠ¸ë¦­

```
http://localhost:8081 ì ‘ì† í›„:

1. Job Graph íƒ­:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ì²´ì´ë‹ ì—†ìŒ:                                         â”‚
   â”‚ [Source] â†’ [Filter1] â†’ [Filter2] â†’ [Union] â†’ ...   â”‚
   â”‚  (9ê°œì˜ ë³„ë„ ë°•ìŠ¤)                                   â”‚
   â”‚                                                      â”‚
   â”‚ ì²´ì´ë‹ ìˆìŒ:                                         â”‚
   â”‚ [Sourceâ†’Filter1â†’Filter2] â†’ [Unionâ†’Filterâ†’...] â†’ ..â”‚
   â”‚  (3ê°œì˜ ë°•ìŠ¤)                                        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. Task Metrics:
   - numBytesOut: ë„¤íŠ¸ì›Œí¬ ì „ì†¡ëŸ‰ (ì²´ì´ë‹ ì‹œ 0)
   - numRecordsOut: ë ˆì½”ë“œ ìˆ˜
   - buffers.outPoolUsage: ë²„í¼ ì‚¬ìš©ë¥  (ì²´ì´ë‹ ì‹œ ë‚®ìŒ)

3. JVM Metrics:
   - Heap.Used: í™ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰
   - GC.Count: GC íšŸìˆ˜
   - GC.Time: GC ì‹œê°„
```

---

## ğŸ’¡ í•µì‹¬ ìš”ì•½

### ì˜¤ë²„í—¤ë“œ ë°œìƒ ì›ì¸ (í•˜ë“œì›¨ì–´ ë ˆë²¨)

1. **ë„¤íŠ¸ì›Œí¬ ë ˆë²¨**
   - TCP/IP ìŠ¤íƒ ì˜¤ë²„í—¤ë“œ: ~54 bytes/íŒ¨í‚·
   - System Call: ~50-100 ns
   - Context Switch: ~1-5 Î¼s
   - ì§ë ¬í™”/ì—­ì§ë ¬í™”: ~100-500 ns/ë ˆì½”ë“œ

2. **CPU ë ˆë²¨**
   - Cache Miss: 50-200ë°° ëŠë¦¼
   - TLB Miss: ~100-500 cycles
   - Branch Predictor Reset: ~10-100 cycles

3. **ë©”ëª¨ë¦¬ ë ˆë²¨**
   - ì¤‘ë³µ ê°ì²´ ìƒì„±: 2-3ë°° ë©”ëª¨ë¦¬ ì‚¬ìš©
   - GC ì••ë ¥: 2-3ë°° ì¦ê°€
   - Stop-the-World: ~100-300 ms

4. **ìŠ¤ë ˆë“œ ë ˆë²¨**
   - Context Switch: ~2-10 Î¼s (ì§ì ‘)
   - Cache Pollution: ì§ì ‘ ë¹„ìš©ì˜ 5-10ë°° (ê°„ì ‘)

### ì²´ì´ë‹ íš¨ê³¼

- âœ… **ë„¤íŠ¸ì›Œí¬ ì „ì†¡ ì œê±°**: 100% ì ˆê°
- âœ… **ì§ë ¬í™” ì œê±°**: 100% ì ˆê°
- âœ… **Cache Hit ì¦ê°€**: 35% â†’ 95%
- âœ… **ë©”ëª¨ë¦¬ ì‚¬ìš© ê°ì†Œ**: 67% ì ˆê°
- âœ… **GC ì••ë ¥ ê°ì†Œ**: 67% ì ˆê°
- âœ… **ì „ì²´ ì„±ëŠ¥**: 30-50% í–¥ìƒ

### ì ìš© ê°€ì´ë“œ

1. **ì²´ì´ë‹ ì í•©**: Source â†’ Filter â†’ Map (ê²½ëŸ‰ ë³€í™˜)
2. **ì²´ì´ë‹ ê²½ê³„**: KeyBy, Rebalance (ì¬ë¶„ë°°)
3. **ì²´ì´ë‹ ë¶€ì í•©**: Sink (I/O ëŒ€ê¸°)
4. **ìŠ¬ë¡¯ ê·¸ë£¹**: ë…¼ë¦¬ì  ì—­í• ë³„ ë¶„ë¦¬ (Source/Process/Sink)
5. **UID ì„¤ì •**: ëª¨ë“  ì—°ì‚°ì (Savepoint í˜¸í™˜ì„±)
